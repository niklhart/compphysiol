<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge,IE=9,chrome=1"><meta name="generator" content="MATLAB 2023b"><title>Tutorial: Working with units</title><style type="text/css">.rtcContent { padding: 30px; } .S0 { margin: 3px 10px 5px 4px; padding: 0px; line-height: 28.8px; min-height: 0px; white-space: pre-wrap; color: rgb(192, 76, 11); font-family: Helvetica, Arial, sans-serif; font-style: normal; font-size: 24px; font-weight: 400; text-align: left;  }
.S1 { margin: 2px 10px 9px 4px; padding: 0px; line-height: 21px; min-height: 0px; white-space: pre-wrap; color: rgb(33, 33, 33); font-family: Helvetica, Arial, sans-serif; font-style: normal; font-size: 14px; font-weight: 400; text-align: left;  }
.S2 { margin: 10px 10px 5px 4px; padding: 0px; line-height: 18px; min-height: 0px; white-space: pre-wrap; color: rgb(33, 33, 33); font-family: Helvetica, Arial, sans-serif; font-style: normal; font-size: 15px; font-weight: 700; text-align: left;  }
.CodeBlock { background-color: #F5F5F5; margin: 10px 0 10px 0; }
.S3 { border-left: 1px solid rgb(217, 217, 217); border-right: 1px solid rgb(217, 217, 217); border-top: 1px solid rgb(217, 217, 217); border-bottom: 1px solid rgb(217, 217, 217); border-radius: 4px 4px 0px 0px; padding: 6px 45px 4px 13px; line-height: 18.004px; min-height: 0px; white-space: nowrap; color: rgb(33, 33, 33); font-family: Menlo, Monaco, Consolas, "Courier New", monospace; font-size: 14px;  }
.S4 { color: rgb(33, 33, 33); padding: 10px 0px 6px 17px; background: rgb(255, 255, 255) none repeat scroll 0% 0% / auto padding-box border-box; font-family: Menlo, Monaco, Consolas, "Courier New", monospace; font-size: 14px; overflow-x: hidden; line-height: 17.234px;  }
/* Styling that is common to warnings and errors is in diagnosticOutput.css */.embeddedOutputsErrorElement {    min-height: 18px;    max-height: 550px;}
.embeddedOutputsErrorElement .diagnosticMessage-errorType {    overflow: auto;}
.embeddedOutputsErrorElement.inlineElement {}
.embeddedOutputsErrorElement.rightPaneElement {}
/* Styling that is common to warnings and errors is in diagnosticOutput.css */.embeddedOutputsWarningElement {    min-height: 18px;    max-height: 550px;}
.embeddedOutputsWarningElement .diagnosticMessage-warningType {    overflow: auto;}
.embeddedOutputsWarningElement.inlineElement {}
.embeddedOutputsWarningElement.rightPaneElement {}
/* Copyright 2015-2023 The MathWorks, Inc. *//* In this file, styles are not scoped to rtcContainer since they could be in the Dojo Tooltip */.diagnosticMessage-wrapper {    font-family: Menlo, Monaco, Consolas, "Courier New", monospace;    font-size: 12px;}
.diagnosticMessage-wrapper.diagnosticMessage-warningType {    /*This fallback value will be used for appdesigner warnings*/    color: var(--rtc-warning-output-color, var(--mw-color-matlabWarning));}
.diagnosticMessage-wrapper.diagnosticMessage-warningType a {    /*This fallback value will be used for appdesigner warnings*/    color: var(--rtc-warning-output-color, var(--mw-color-matlabWarning));    text-decoration: underline;}
.rtcThemeDefaultOverride .diagnosticMessage-wrapper.diagnosticMessage-warningType,.rtcThemeDefaultOverride .diagnosticMessage-wrapper.diagnosticMessage-warningType a {    color: var(--mw-color-matlabWarning) !important;}
.diagnosticMessage-wrapper.diagnosticMessage-errorType {    /*This fallback value will be used in appdesigner error tooltip text*/    color: var(--rtc-error-output-color, var(--mw-color-matlabErrors));}
.diagnosticMessage-wrapper.diagnosticMessage-errorType a {    /*This fallback value will be used in appdesigner error tooltip text*/    color: var(--rtc-error-output-color, var(--mw-color-matlabErrors));    text-decoration: underline;}
.rtcThemeDefaultOverride .diagnosticMessage-wrapper.diagnosticMessage-errorType,.rtcThemeDefaultOverride .diagnosticMessage-wrapper.diagnosticMessage-errorType a {    color: var(--mw-color-matlabErrors) !important;}
.diagnosticMessage-wrapper .diagnosticMessage-messagePart,.diagnosticMessage-wrapper .diagnosticMessage-causePart {    white-space: pre-wrap;}
.diagnosticMessage-wrapper .diagnosticMessage-stackPart {    white-space: pre;}
.embeddedOutputsTextElement,.embeddedOutputsVariableStringElement {    white-space: pre;    word-wrap:  initial;    min-height: 18px;    max-height: 550px;}
.embeddedOutputsTextElement .textElement,.embeddedOutputsVariableStringElement .textElement {    overflow: auto;}
.textElement,.rtcDataTipElement .textElement {    padding-top: 2px;}
.embeddedOutputsTextElement.inlineElement,.embeddedOutputsVariableStringElement.inlineElement {}
.inlineElement .textElement {}
.embeddedOutputsTextElement.rightPaneElement,.embeddedOutputsVariableStringElement.rightPaneElement {    min-height: 16px;}
.rightPaneElement .textElement {    padding-top: 2px;    padding-left: 9px;}
.S5 { margin: 10px 10px 9px 4px; padding: 0px; line-height: 21px; min-height: 0px; white-space: pre-wrap; color: rgb(33, 33, 33); font-family: Helvetica, Arial, sans-serif; font-style: normal; font-size: 14px; font-weight: 400; text-align: left;  }
.S6 { border-left: 1px solid rgb(217, 217, 217); border-right: 1px solid rgb(217, 217, 217); border-top: 1px solid rgb(217, 217, 217); border-bottom: 1px solid rgb(217, 217, 217); border-radius: 0px; padding: 6px 45px 4px 13px; line-height: 18.004px; min-height: 0px; white-space: nowrap; color: rgb(33, 33, 33); font-family: Menlo, Monaco, Consolas, "Courier New", monospace; font-size: 14px;  }
.S7 { margin: 3px 10px 5px 4px; padding: 0px; line-height: 18px; min-height: 0px; white-space: pre-wrap; color: rgb(33, 33, 33); font-family: Helvetica, Arial, sans-serif; font-style: normal; font-size: 15px; font-weight: 700; text-align: left;  }
.embeddedOutputsMatrixElement,.eoOutputWrapper .matrixElement {    min-height: 18px;    box-sizing: border-box;}
.embeddedOutputsMatrixElement .matrixElement,.eoOutputWrapper  .matrixElement,.rtcDataTipElement .matrixElement {    position: relative;}
.matrixElement .variableValue,.rtcDataTipElement .matrixElement .variableValue {    white-space: pre;    display: inline-block;    vertical-align: top;    overflow: hidden;}
.embeddedOutputsMatrixElement.inlineElement {}
.embeddedOutputsMatrixElement.inlineElement .topHeaderWrapper {    display: none;}
.embeddedOutputsMatrixElement.inlineElement .veTable .body {    padding-top: 0 !important;    max-height: 100px;}
.inlineElement .matrixElement {    max-height: 300px;}
.embeddedOutputsMatrixElement.rightPaneElement {}
.rightPaneElement .matrixElement,.rtcDataTipElement .matrixElement {    overflow: hidden;    padding-left: 9px;}
.rightPaneElement .matrixElement {    margin-bottom: -1px;}
.embeddedOutputsMatrixElement .matrixElement .valueContainer,.eoOutputWrapper .matrixElement .valueContainer,.rtcDataTipElement .matrixElement .valueContainer {    white-space: nowrap;    margin-bottom: 3px;}
.embeddedOutputsMatrixElement .matrixElement .valueContainer .horizontalEllipsis.hide,.embeddedOutputsMatrixElement .matrixElement .verticalEllipsis.hide,.eoOutputWrapper .matrixElement .valueContainer .horizontalEllipsis.hide,.eoOutputWrapper .matrixElement .verticalEllipsis.hide,.rtcDataTipElement .matrixElement .valueContainer .horizontalEllipsis.hide,.rtcDataTipElement .matrixElement .verticalEllipsis.hide {    display: none;}
.embeddedOutputsVariableMatrixElement .matrixElement .valueContainer.hideEllipses .verticalEllipsis, .embeddedOutputsVariableMatrixElement .matrixElement .valueContainer.hideEllipses .horizontalEllipsis {    display:none;}
.embeddedOutputsMatrixElement .matrixElement .valueContainer .horizontalEllipsis,.eoOutputWrapper .matrixElement .valueContainer .horizontalEllipsis {    margin-bottom: -3px;}
.eoOutputWrapper .embeddedOutputsVariableMatrixElement .matrixElement .valueContainer {    cursor: default !important;}
.embeddedOutputsVariableElement {    white-space: pre-wrap;    word-wrap: break-word;    min-height: 18px;    max-height: 250px;    overflow: auto;}
.eoOutputWrapper .variableElement {    padding-top: 2px;}
.embeddedOutputsVariableElement.inlineElement {}
.inlineElement .variableElement {}
.embeddedOutputsVariableElement.rightPaneElement {    min-height: 16px;}
.rightPaneElement .variableElement {    padding-left: 9px;}
.outputsOnRight .embeddedOutputsVariableElement.rightPaneElement .eoOutputContent {    /* Remove extra space allocated for navigation border */    margin-top: 0;    margin-bottom: 0;}
.variableNameElement {    margin-bottom: 3px;    display: inline-block;}
/* * Ellipses as base64 for HTML export. */.matrixElement .horizontalEllipsis,.rtcDataTipElement .matrixElement .horizontalEllipsis {    display: inline-block;    margin-top: 3px;    /* base64 encoded version of images-liveeditor/HEllipsis.png */    width: 30px;    height: 12px;    background-repeat: no-repeat;    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB0AAAAJCAYAAADO1CeCAAAAJUlEQVR42mP4//8/A70xw0i29BUDFPxnAEtTW37wWDqakIa4pQDvOOG89lHX2gAAAABJRU5ErkJggg==");}
.matrixElement .verticalEllipsis,.textElement .verticalEllipsis,.rtcDataTipElement .matrixElement .verticalEllipsis,.rtcDataTipElement .textElement .verticalEllipsis {    margin-left: 35px;    /* base64 encoded version of images-liveeditor/VEllipsis.png */    width: 12px;    height: 30px;    background-repeat: no-repeat;    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAZCAYAAAAIcL+IAAAALklEQVR42mP4//8/AzGYgWyFMECMwv8QddRS+P//KyimlmcGUOFoOI6GI/UVAgDnd8Dd4+NCwgAAAABJRU5ErkJggg==");}</style></head><body><div class = rtcContent><h1  class = 'S0'><span>Tutorial: Working with units</span></h1><div  class = 'S1'><span>The Computational Physiology Toolbox has a system for unit-based computations. Briefly, it supports mathematical operations on variables with associated units rather than just their numerical values, and ensures that units are used consistently within modelling projects.</span></div><h4  class = 'S2'><span>Defining variables with units</span></h4><div  class = 'S1'><span>To create a variable with an associated unit, you have two options. First, you can prepend "</span><span style=' font-family: monospace;'>u.</span><span>" to a unit, such as </span><span style=' font-family: monospace;'>u.m</span><span> for one meter. </span></div><div  class = 'S1'><span>For example, if you are modelling a 400 gram rat, you might want to store its body weight in a variable </span></div><div class="CodeBlock"><div class="inlineWrapper outputs"><div  class = 'S3'><span style="white-space: pre"><span >BW = 400*u.g</span></span></div><div  class = 'S4'><div class="inlineElement eoOutputWrapper disableDefaultGestureHandling embeddedOutputsTextElement" uid="5A460882" prevent-scroll="true" data-testid="output_0" tabindex="-1" style="width: 1145px; white-space: pre; font-style: normal; color: rgb(33, 33, 33); font-size: 12px;"><div class="textElement eoOutputContent" tabindex="-1" data-previous-available-width="1108" data-previous-scroll-height="76" data-hashorizontaloverflow="false" style="max-height: 261px; white-space: pre; font-style: normal; color: rgb(33, 33, 33); font-size: 12px;">BW =

   400

		 g</div></div></div></div></div><div  class = 'S5'><span>Second, you can create variables using function </span><span style=' font-family: monospace;'>str2u()</span></div><div class="CodeBlock"><div class="inlineWrapper outputs"><div  class = 'S3'><span style="white-space: pre"><span >str2u(</span><span style="color: #a709f5;">'400 g'</span><span >)</span></span></div><div  class = 'S4'><div class="inlineElement eoOutputWrapper disableDefaultGestureHandling embeddedOutputsTextElement" uid="12392491" prevent-scroll="true" data-testid="output_1" tabindex="-1" style="width: 1145px; white-space: pre; font-style: normal; color: rgb(33, 33, 33); font-size: 12px;"><div class="textElement eoOutputContent" tabindex="-1" data-previous-available-width="1108" data-previous-scroll-height="76" data-hashorizontaloverflow="false" style="max-height: 261px; white-space: pre; font-style: normal; color: rgb(33, 33, 33); font-size: 12px;">ans =

   400

		 g</div></div></div></div></div><div  class = 'S5'><span>Here, prepending "</span><span style=' font-family: monospace;'>u.</span><span>"  is not required. </span></div><div  class = 'S1'><span>To see the complete list of supported units, type "</span><span style=' font-family: monospace;'>u</span><span>" at the console and hit "Enter". I won't do it here because this list is quite long.</span></div><h4  class = 'S2'><span>Custom display of variables with units</span></h4><div  class = 'S1'><span>Now let's turn to what you can do with these variables. First, you can change the units in which a variable is displayed using function </span><span style=' font-family: monospace;'>scd()</span><span>, short for "setcustomdisplay". </span></div><div  class = 'S1'><span>For example, you might want to convert the previously defined rat body weight to kilograms:</span></div><div class="CodeBlock"><div class="inlineWrapper outputs"><div  class = 'S3'><span style="white-space: pre"><span >scd(BW,</span><span style="color: #a709f5;">'kg'</span><span >)</span></span></div><div  class = 'S4'><div class="inlineElement eoOutputWrapper disableDefaultGestureHandling embeddedOutputsTextElement" uid="F83B0030" prevent-scroll="true" data-testid="output_2" tabindex="-1" style="width: 1145px; white-space: pre; font-style: normal; color: rgb(33, 33, 33); font-size: 12px;"><div class="textElement eoOutputContent" tabindex="-1" data-previous-available-width="1108" data-previous-scroll-height="76" data-hashorizontaloverflow="false" style="max-height: 261px; white-space: pre; font-style: normal; color: rgb(33, 33, 33); font-size: 12px;">ans =

    0.4000

		 kg</div></div></div></div></div><div  class = 'S1'><span>Converting to incompatible units results in an error, e.g., </span><span style=' font-family: monospace;'>scd(BW,'L')</span><span>.</span></div><div class="CodeBlock"><div class="inlineWrapper outputs"><div  class = 'S3'><span style="white-space: pre"><span >scd(BW,</span><span style="color: #a709f5;">'L'</span><span >)</span></span></div><div  class = 'S4'><div class="inlineElement eoOutputWrapper disableDefaultGestureHandling embeddedOutputsErrorElement" uid="BFF951B5" prevent-scroll="true" data-testid="output_3" tabindex="-1" style="width: 1145px; white-space: normal; font-style: normal; color: rgb(33, 33, 33); font-size: 12px;"><div class="diagnosticMessage-wrapper diagnosticMessage-errorType eoOutputContent" tabindex="-1" data-previous-available-width="1108" data-previous-scroll-height="34" data-hashorizontaloverflow="false" style="max-height: 261px; white-space: normal; font-style: normal; color: rgb(183, 49, 44); font-size: 12px;"><div class="diagnosticMessage-messagePart" style="white-space: pre-wrap; font-style: normal; color: rgb(183, 49, 44); font-size: 12px;">Error using DimVar/scd<br style="white-space: pre-wrap; font-style: normal; color: rgb(183, 49, 44); font-size: 12px;">Unit "kg" is incompatible with unit "L".</div><div class="diagnosticMessage-stackPart" style="white-space: pre; font-style: normal; color: rgb(183, 49, 44); font-size: 12px;"></div></div></div></div></div></div><div  class = 'S1'><span>Display units can also be set globally, for example, to display all time variables in minutes rather than the default seconds. Tutorial "Global options" contains instructions for how to do so. However, if defined, a custom display on a per-variable base always takes precedence over a global custom display.</span></div><h4  class = 'S2'><span>Calculations using variables with units</span></h4><div  class = 'S1'><span>As an example, consider a two-compartment model with volumes </span><span style=' font-family: monospace;'>V1</span><span> = 10 L and </span><span style=' font-family: monospace;'>V2</span><span> = 20 L,</span></div><div class="CodeBlock"><div class="inlineWrapper outputs"><div  class = 'S3'><span style="white-space: pre"><span >V1 = 10*u.L</span></span></div><div  class = 'S4'><div class="inlineElement eoOutputWrapper disableDefaultGestureHandling embeddedOutputsTextElement" uid="23AAAE41" prevent-scroll="true" data-testid="output_4" tabindex="-1" style="width: 1145px; white-space: pre; font-style: normal; color: rgb(33, 33, 33); font-size: 12px;"><div class="textElement eoOutputContent" tabindex="-1" data-previous-available-width="1108" data-previous-scroll-height="76" data-hashorizontaloverflow="false" style="max-height: 261px; white-space: pre; font-style: normal; color: rgb(33, 33, 33); font-size: 12px;">V1 =

    10

		 L</div></div></div></div><div class="inlineWrapper outputs"><div  class = 'S6'><span style="white-space: pre"><span >V2 = 20*u.L</span></span></div><div  class = 'S4'><div class="inlineElement eoOutputWrapper disableDefaultGestureHandling embeddedOutputsTextElement" uid="06B16EDB" prevent-scroll="true" data-testid="output_5" tabindex="-1" style="width: 1145px; white-space: pre; font-style: normal; color: rgb(33, 33, 33); font-size: 12px;"><div class="textElement eoOutputContent" tabindex="-1" data-previous-available-width="1108" data-previous-scroll-height="76" data-hashorizontaloverflow="false" style="max-height: 261px; white-space: pre; font-style: normal; color: rgb(33, 33, 33); font-size: 12px;">V2 =

    20

		 L</div></div></div></div></div><div  class = 'S5'><span>You can obtain the total volume of distribution as the sum of the two compartment volumes:</span></div><div class="CodeBlock"><div class="inlineWrapper outputs"><div  class = 'S3'><span style="white-space: pre"><span >Vss = V1 + V2</span></span></div><div  class = 'S4'><div class="inlineElement eoOutputWrapper disableDefaultGestureHandling embeddedOutputsTextElement" uid="F2B90BDC" prevent-scroll="true" data-testid="output_6" tabindex="-1" style="width: 1145px; white-space: pre; font-style: normal; color: rgb(33, 33, 33); font-size: 12px;"><div class="textElement eoOutputContent" tabindex="-1" data-previous-available-width="1108" data-previous-scroll-height="76" data-hashorizontaloverflow="false" style="max-height: 261px; white-space: pre; font-style: normal; color: rgb(33, 33, 33); font-size: 12px;">Vss =

    30

		 L</div></div></div></div></div><div  class = 'S5'><span>If one of the two volumes had a unit of mL instead of L,</span></div><div class="CodeBlock"><div class="inlineWrapper outputs"><div  class = 'S3'><span style="white-space: pre"><span >V2 = scd(V2,</span><span style="color: #a709f5;">'mL'</span><span >)</span></span></div><div  class = 'S4'><div class="inlineElement eoOutputWrapper disableDefaultGestureHandling embeddedOutputsTextElement" uid="34E1D89D" prevent-scroll="true" data-testid="output_7" tabindex="-1" style="width: 1145px; white-space: pre; font-style: normal; color: rgb(33, 33, 33); font-size: 12px;"><div class="textElement eoOutputContent" tabindex="-1" data-previous-available-width="1108" data-previous-scroll-height="76" data-hashorizontaloverflow="false" style="max-height: 261px; white-space: pre; font-style: normal; color: rgb(33, 33, 33); font-size: 12px;">V2 =

       20000

		 mL</div></div></div></div></div><div  class = 'S5'><span>the unit of </span><span style=' font-family: monospace;'>Vss</span><span> will be the one of the first term in the sum.</span></div><div class="CodeBlock"><div class="inlineWrapper outputs"><div  class = 'S3'><span style="white-space: pre"><span >Vss = V1 + V2</span></span></div><div  class = 'S4'><div class="inlineElement eoOutputWrapper disableDefaultGestureHandling embeddedOutputsTextElement" uid="7D1B7065" prevent-scroll="true" data-testid="output_8" tabindex="-1" style="width: 1145px; white-space: pre; font-style: normal; color: rgb(33, 33, 33); font-size: 12px;"><div class="textElement eoOutputContent" tabindex="-1" data-previous-available-width="1108" data-previous-scroll-height="76" data-hashorizontaloverflow="false" style="max-height: 261px; white-space: pre; font-style: normal; color: rgb(33, 33, 33); font-size: 12px;">Vss =

    30

		 L</div></div></div></div></div><div  class = 'S5'><span>But assume the second volume is erroneously given in kilogram rather than liters. </span></div><div class="CodeBlock"><div class="inlineWrapper outputs"><div  class = 'S3'><span style="white-space: pre"><span >W2 = 20*u.kg</span></span></div><div  class = 'S4'><div class="inlineElement eoOutputWrapper disableDefaultGestureHandling embeddedOutputsTextElement" uid="811C1932" prevent-scroll="true" data-testid="output_9" tabindex="-1" style="width: 1145px; white-space: pre; font-style: normal; color: rgb(33, 33, 33); font-size: 12px;"><div class="textElement eoOutputContent" tabindex="-1" data-previous-available-width="1108" data-previous-scroll-height="76" data-hashorizontaloverflow="false" style="max-height: 261px; white-space: pre; font-style: normal; color: rgb(33, 33, 33); font-size: 12px;">W2 =

    20

		 kg</div></div></div></div></div><div  class = 'S5'><span>Then, the operation </span><span style=' font-family: monospace;'>V1 + W2</span><span> will result in an error because these units are incompatible.</span></div><div class="CodeBlock"><div class="inlineWrapper outputs"><div  class = 'S3'><span style="white-space: pre"><span >V1 + W2</span></span></div><div  class = 'S4'><div class="inlineElement eoOutputWrapper disableDefaultGestureHandling embeddedOutputsErrorElement" uid="434BEDAE" prevent-scroll="true" data-testid="output_10" tabindex="-1" style="width: 1145px; white-space: normal; font-style: normal; color: rgb(33, 33, 33); font-size: 12px;"><div class="diagnosticMessage-wrapper diagnosticMessage-errorType eoOutputContent" tabindex="-1" data-previous-available-width="1108" data-previous-scroll-height="34" data-hashorizontaloverflow="false" style="max-height: 261px; white-space: normal; font-style: normal; color: rgb(183, 49, 44); font-size: 12px;"><div class="diagnosticMessage-messagePart" style="white-space: pre-wrap; font-style: normal; color: rgb(183, 49, 44); font-size: 12px;">Error using  + <br style="white-space: pre-wrap; font-style: normal; color: rgb(183, 49, 44); font-size: 12px;">Incompatible units. Cannot perform operation on variables with different units.</div><div class="diagnosticMessage-stackPart" style="white-space: pre; font-style: normal; color: rgb(183, 49, 44); font-size: 12px;"></div></div></div></div></div></div><h4  class = 'S7'><span>Arrays of variables with units</span></h4><div  class = 'S1'><span>You can also create arrays of unit-based variables. </span></div><div  class = 'S1'><span>For example, you can store the two volumes in a vector </span><span style=' font-family: monospace;'>V</span></div><div class="CodeBlock"><div class="inlineWrapper outputs"><div  class = 'S3'><span style="white-space: pre"><span >V = [V1 V2]</span></span></div><div  class = 'S4'><div class="inlineElement eoOutputWrapper disableDefaultGestureHandling embeddedOutputsTextElement" uid="FD2548B6" prevent-scroll="true" data-testid="output_11" tabindex="-1" style="width: 1145px; white-space: pre; font-style: normal; color: rgb(33, 33, 33); font-size: 12px;"><div class="textElement eoOutputContent" tabindex="-1" data-previous-available-width="1108" data-previous-scroll-height="76" data-hashorizontaloverflow="false" style="max-height: 261px; white-space: pre; font-style: normal; color: rgb(33, 33, 33); font-size: 12px;">V =

    10    20

		 L</div></div></div></div></div><div  class = 'S5'><span>This will automatically harmonize the units (L and mL) into L.</span></div><div  class = 'S1'><span></span></div><div  class = 'S1'><span>You can also store values with incompatible units, which will result in a vector with heterogeneous units. Here, different compatible units will not be harmonized.</span></div><div class="CodeBlock"><div class="inlineWrapper outputs"><div  class = 'S3'><span style="white-space: pre"><span >[V1 V2 W2]</span></span></div><div  class = 'S4'><div class="inlineElement eoOutputWrapper disableDefaultGestureHandling embeddedOutputsVariableStringElement" uid="6E08FAEA" prevent-scroll="true" data-testid="output_12" tabindex="-1" style="width: 1145px; white-space: pre; font-style: normal; color: rgb(33, 33, 33); font-size: 12px;"><div class="textElement eoOutputContent" tabindex="-1" data-previous-available-width="1108" data-previous-scroll-height="49" data-hashorizontaloverflow="false" style="max-height: 261px; white-space: pre; font-style: normal; color: rgb(33, 33, 33); font-size: 12px;"><div style="white-space: pre; font-style: normal; color: rgb(33, 33, 33); font-size: 12px;"><span class="variableNameElement" style="white-space: pre; font-style: normal; color: rgb(33, 33, 33); font-size: 12px;">ans = </span></div><div style="white-space: pre; font-style: normal; color: rgb(33, 33, 33); font-size: 12px;">    10&nbsp;L     20&nbsp;L     20&nbsp;kg

</div></div></div></div></div></div><div  class = 'S5'><span>Next, you can perform operations that change not only the dispay, but the actual type of underlying unit, like multiplication or division. For example, let's compute the body mass index of a typical adult:</span></div><div class="CodeBlock"><div class="inlineWrapper outputs"><div  class = 'S3'><span style="white-space: pre"><span >BW = 70*u.kg</span></span></div><div  class = 'S4'><div class="inlineElement eoOutputWrapper disableDefaultGestureHandling embeddedOutputsTextElement" uid="11CB7210" prevent-scroll="true" data-testid="output_13" tabindex="-1" style="width: 1145px; white-space: pre; font-style: normal; color: rgb(33, 33, 33); font-size: 12px;"><div class="textElement eoOutputContent" tabindex="-1" data-previous-available-width="1108" data-previous-scroll-height="76" data-hashorizontaloverflow="false" style="max-height: 261px; white-space: pre; font-style: normal; color: rgb(33, 33, 33); font-size: 12px;">BW =

    70

		 kg</div></div></div></div><div class="inlineWrapper outputs"><div  class = 'S6'><span style="white-space: pre"><span >BH = 1.80*u.m</span></span></div><div  class = 'S4'><div class="inlineElement eoOutputWrapper disableDefaultGestureHandling embeddedOutputsTextElement" uid="E1F4167B" prevent-scroll="true" data-testid="output_14" tabindex="-1" style="width: 1145px; white-space: pre; font-style: normal; color: rgb(33, 33, 33); font-size: 12px;"><div class="textElement eoOutputContent" tabindex="-1" data-previous-available-width="1108" data-previous-scroll-height="76" data-hashorizontaloverflow="false" style="max-height: 261px; white-space: pre; font-style: normal; color: rgb(33, 33, 33); font-size: 12px;">BH =

    1.8000

		 m</div></div></div></div><div class="inlineWrapper outputs"><div  class = 'S6'><span style="white-space: pre"><span >BMI = BW / BH^2</span></span></div><div  class = 'S4'><div class="inlineElement eoOutputWrapper disableDefaultGestureHandling embeddedOutputsTextElement" uid="7ABCFD97" prevent-scroll="true" data-testid="output_15" tabindex="-1" style="width: 1145px; white-space: pre; font-style: normal; color: rgb(33, 33, 33); font-size: 12px;"><div class="textElement eoOutputContent" tabindex="-1" data-previous-available-width="1108" data-previous-scroll-height="105" data-hashorizontaloverflow="false" style="max-height: 261px; white-space: pre; font-style: normal; color: rgb(33, 33, 33); font-size: 12px;">BMI =

   21.6049

		kg
		---
		m^2</div></div></div></div></div><div  class = 'S5'><span>If units cancel during an operation, the result will be a standard numerical variable. Dosing per body weight is such an example.</span></div><div class="CodeBlock"><div class="inlineWrapper outputs"><div  class = 'S3'><span style="white-space: pre"><span >400*u.mg / BW</span></span></div><div  class = 'S4'><div class='variableElement' style='font-family: Menlo, Monaco, Consolas, "Courier New", monospace; font-size: 12px; '>ans = 5.7143e-06</div></div></div></div><div  class = 'S5'><span></span></div><div  class = 'S1'><span>You can see the list of functions applicable to variables with units by typing </span><span style=' font-style: italic;'>(note: any variable with units will do here, I've taken a meter)</span></div><div class="CodeBlock"><div class="inlineWrapper outputs"><div  class = 'S3'><span style="white-space: pre"><span >methods(u.m)</span></span></div><div  class = 'S4'><div class="inlineElement eoOutputWrapper disableDefaultGestureHandling embeddedOutputsTextElement scrollableOutput" uid="317E1AC4" prevent-scroll="true" data-testid="output_17" tabindex="-1" style="width: 1145px; white-space: pre; font-style: normal; color: rgb(33, 33, 33); font-size: 12px;"><div class="textElement eoOutputContent scrollArea" tabindex="-1" data-previous-available-width="1108" data-previous-scroll-height="46" data-hashorizontaloverflow="true" style="max-height: 261px; white-space: pre; font-style: normal; color: rgb(33, 33, 33); font-size: 12px;">Methods for class DimVar:

DimVar                              abs                                 atan2                               cat                                 categorical                         circshift                           clearcanceledunits                  colon                               compactRepresentationForColumn      compactRepresentationForSingleLine  compatible                          conj                                contour                             contour3                            contourc                            contourf                            ctranspose                          cumsum                              cumtrapz                            diag                                diff                                discretize                          disp                                display                             displayparser                       double                              end                                 eq                                  fill                                fill3                               full                                ge                                  gt                                  hist                                histcounts                          histcounts2                         histogram                           histogram2                          horzcat                             hypot                               imag                                interp1                             iscompatible                        isempty                             isfinite                            isinf                               isnan                               isnumeric                           isreal                              issorted                            istype                              ldivide                             le                                  length                              line                                logical                             loglog                              lt                                  mat2str                             max                                 mean                                median                              min                                 minus                               mldivide                            mpower                              mrdivide                            mtimes                              mustBeGreaterThan                   mustBeGreaterThanOrEqual            mustBeLessThan                      mustBeLessThanOrEqual               mustBeNegative                      mustBeNonnegative                   mustBeNonpositive                   mustBeNonzero                       mustBePositive                      ndims                               ne                                  nnz                                 norm                                not                                 nthroot                             num2str                             numel                               patch                               permute                             plot                                plot3                               plotfunctionwrapper                 plus                                power                               prctile                             rdivide                             real                                reshape                             round                               scale                               scd                                 semilogx                            semilogy                            sign                                size                                sort                                sqrt                                std                                 string                              subsasgn                            subsref                             sum                                 surf                                surface                             text                                times                               trace                               transpose                           trapz                               u2duration                          u2num                               uminus                              unique                              unitsOf                             uplus                               validateattributes                  vertcat                             </div></div></div></div></div><div  class = 'S5'><span>These functions cover most applications. </span></div><div  class = 'S1'><span></span></div><h4  class = 'S7'><span>Details</span></h4><div  class = 'S1'><span>Let's get into a bit more detail on how this works. There are two types of units, so-called base units and derived units. </span></div><div  class = 'S1'><span>In total, there are nine base units; you can see their names when typing </span></div><div class="CodeBlock"><div class="inlineWrapper outputs"><div  class = 'S3'><span style="white-space: pre"><span >u.baseNames</span></span></div><div  class = 'S4'><div class="inlineElement eoOutputWrapper disableDefaultGestureHandling embeddedOutputsTextMatrixElement embeddedOutputsVariableMatrixElement" uid="7F21E3E0" prevent-scroll="true" data-testid="output_18" data-width="1115" tabindex="-1" style="width: 1145px; white-space: normal; font-style: normal; color: rgb(33, 33, 33); font-size: 12px;"><div class="matrixElement veSpecifier saveLoad eoOutputContent" style="white-space: normal; font-style: normal; color: rgb(33, 33, 33); font-size: 12px;"><div class="veVariableName variableNameElement" style="width: 1115px; white-space: normal; font-style: normal; color: rgb(33, 33, 33); font-size: 12px;"><div class="headerElementClickToInteract" style="white-space: normal; font-style: normal; color: rgb(33, 33, 33); font-size: 12px;"><span style="white-space: normal; font-style: normal; color: rgb(33, 33, 33); font-size: 12px;">ans = </span><span class="veVariableValueSummary headerElement" style="white-space: normal; font-style: italic; color: rgb(97, 97, 97); font-size: 12px;">1×9 cell</span></div></div><div class="valueContainer" data-layout="{&quot;totalRows&quot;:&quot;1&quot;,&quot;totalColumns&quot;:&quot;9&quot;}" style="white-space: pre; font-style: normal; color: rgb(33, 33, 33); font-size: 12px;"><div class="variableValue" style="width: 738px; white-space: pre; font-style: normal; color: rgb(33, 33, 33); font-size: 12px;">'m'         'kg'        's'         'A'         'K'         'mol'       'cd'        'bit'       '¤'         <br></div><div class="horizontalEllipsis hide" style="white-space: pre; font-style: normal; color: rgb(33, 33, 33); font-size: 12px;"></div><div class="verticalEllipsis hide" style="white-space: pre; font-style: normal; color: rgb(33, 33, 33); font-size: 12px;"></div></div></div><div class="outputLayer selectedOutputDecorationLayer doNotExport" style="white-space: normal; font-style: normal; color: rgb(33, 33, 33); font-size: 12px;"></div><div class="outputLayer activeOutputDecorationLayer doNotExport" style="white-space: normal; font-style: normal; color: rgb(33, 33, 33); font-size: 12px;"></div><div class="outputLayer scrollableOutputDecorationLayer doNotExport" style="white-space: normal; font-style: normal; color: rgb(33, 33, 33); font-size: 12px;"></div><div class="outputLayer navigationFocusLayer doNotExport" tabindex="-1" style="white-space: normal; font-style: normal; color: rgb(33, 33, 33); font-size: 12px;"></div></div></div></div></div><div  class = 'S5'><span>These are the SI units together with two additional units, bit and currency. The relevant base units for us are meter, kilogram, second, and mol. The reason why other base units are implemented, like Ampere or Kelvin, is because our unit-computation system was adapted from contributed code on MathWorks file exchange.</span></div><div  class = 'S1'><span>Derived units are defined as combinations of base units, for example, the kilogram per meter squared was a derived unit. But derived units can also have custom names, such as </span><span style=' font-family: monospace;'>M</span><span> for molar concentration. </span></div><div class="CodeBlock"><div class="inlineWrapper outputs"><div  class = 'S3'><span style="white-space: pre"><span >u.M</span></span></div><div  class = 'S4'><div class="inlineElement eoOutputWrapper disableDefaultGestureHandling embeddedOutputsTextElement" uid="F41C9FE3" prevent-scroll="true" data-testid="output_19" tabindex="-1" style="width: 1145px; white-space: pre; font-style: normal; color: rgb(33, 33, 33); font-size: 12px;"><div class="textElement eoOutputContent" tabindex="-1" data-previous-available-width="1108" data-previous-scroll-height="76" data-hashorizontaloverflow="false" style="max-height: 261px; white-space: pre; font-style: normal; color: rgb(33, 33, 33); font-size: 12px;">ans =

     1

		 M</div></div></div></div></div><div  class = 'S5'><span>To reveal the underlying base units, function </span><span style=' font-family: monospace;'>scd()</span><span> can again be used, but without any second argument:</span></div><div class="CodeBlock"><div class="inlineWrapper outputs"><div  class = 'S3'><span style="white-space: pre"><span >scd(u.M)</span></span></div><div  class = 'S4'><div class="inlineElement eoOutputWrapper disableDefaultGestureHandling embeddedOutputsTextElement" uid="DF3F9DA5" prevent-scroll="true" data-testid="output_20" tabindex="-1" style="width: 1145px; white-space: pre; font-style: normal; color: rgb(33, 33, 33); font-size: 12px;"><div class="textElement eoOutputContent" tabindex="-1" data-previous-available-width="1108" data-previous-scroll-height="105" data-hashorizontaloverflow="false" style="max-height: 261px; white-space: pre; font-style: normal; color: rgb(33, 33, 33); font-size: 12px;">ans =

   1.0000e+03

		mol
		---
		m^3</div></div></div></div></div><div  class = 'S5'><span>You can see that the molar unit is defined through base units mol and kilogram. </span></div><div  class = 'S1'><span>Custom unit names are cleared during most operations. For example, if an infusion rate is computed from dose and duration,</span></div><div class="CodeBlock"><div class="inlineWrapper outputs"><div  class = 'S3'><span style="white-space: pre"><span >dose = 1*u.mg</span></span></div><div  class = 'S4'><div class="inlineElement eoOutputWrapper disableDefaultGestureHandling embeddedOutputsTextElement" uid="CECC037D" prevent-scroll="true" data-testid="output_21" tabindex="-1" style="width: 1145px; white-space: pre; font-style: normal; color: rgb(33, 33, 33); font-size: 12px;"><div class="textElement eoOutputContent" tabindex="-1" data-previous-available-width="1108" data-previous-scroll-height="76" data-hashorizontaloverflow="false" style="max-height: 261px; white-space: pre; font-style: normal; color: rgb(33, 33, 33); font-size: 12px;">dose =

     1

		 mg</div></div></div></div><div class="inlineWrapper outputs"><div  class = 'S6'><span style="white-space: pre"><span >duration = 30*u.min</span></span></div><div  class = 'S4'><div class="inlineElement eoOutputWrapper disableDefaultGestureHandling embeddedOutputsTextElement" uid="AED6D687" prevent-scroll="true" data-testid="output_22" tabindex="-1" style="width: 1145px; white-space: pre; font-style: normal; color: rgb(33, 33, 33); font-size: 12px;"><div class="textElement eoOutputContent" tabindex="-1" data-previous-available-width="1108" data-previous-scroll-height="76" data-hashorizontaloverflow="false" style="max-height: 261px; white-space: pre; font-style: normal; color: rgb(33, 33, 33); font-size: 12px;">duration =

    30

		 min</div></div></div></div><div class="inlineWrapper outputs"><div  class = 'S6'><span style="white-space: pre"><span >rate = dose/duration</span></span></div><div  class = 'S4'><div class="inlineElement eoOutputWrapper disableDefaultGestureHandling embeddedOutputsTextElement" uid="3AB5E2BD" prevent-scroll="true" data-testid="output_23" tabindex="-1" style="width: 1145px; white-space: pre; font-style: normal; color: rgb(33, 33, 33); font-size: 12px;"><div class="textElement eoOutputContent" tabindex="-1" data-previous-available-width="1108" data-previous-scroll-height="105" data-hashorizontaloverflow="false" style="max-height: 261px; white-space: pre; font-style: normal; color: rgb(33, 33, 33); font-size: 12px;">rate =

   5.5556e-10

		kg
		--
		s</div></div></div></div></div><div  class = 'S5'><span>the result will be returned in a combination of base units. </span></div><div  class = 'S1'><span>Custom unit names can be re-set whenever required using function </span><span style=' font-family: monospace;'>scd()</span><span>, but note that this is only for display purposes and need not be done for intermediate calculations.</span></div><h4  class = 'S7'><span>Exercise</span></h4><div  class = 'S1'><span>Here's a small exercise for getting started with unit-based computations. The volume of a typical E.coli cell is </span><span mathmlencoding="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;inline&quot;&gt;&lt;mrow&gt;&lt;mn&gt;2&lt;/mn&gt;&lt;mo&gt;⋅&lt;/mo&gt;&lt;msup&gt;&lt;mrow&gt;&lt;mn&gt;10&lt;/mn&gt;&lt;/mrow&gt;&lt;mrow&gt;&lt;mtext&gt; &lt;/mtext&gt;&lt;mo&gt;-&lt;/mo&gt;&lt;mn&gt;15&lt;/mn&gt;&lt;/mrow&gt;&lt;/msup&gt;&lt;mi mathvariant=&quot;italic&quot;&gt;L&lt;/mi&gt;&lt;/mrow&gt;&lt;/math&gt;" style="vertical-align:-5px"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIcAAAAoCAYAAADUrekxAAAAAXNSR0IArs4c6QAACaRJREFUeF7tW32MXFUVP+e+2dliFa2Slm7befe+HVQWhdCFIgJmURAhkhaNDWgoaEhN/UDFAMGoiF+AEjC1JhiCgigqJIAaghGti7HY2BSj5cOtM/e+N62KVSva0Np23zvmTN5sptN5X7NvZsn67n+z797z9X7v3HN/5y5CMYoIREQAi8gUEYiKQAGOAhuRESjAUYCjAEeBgewRKDJH9pjluQKllBcMDw9vmZqa2tdNsJRyAREtbX9WKpWWEtHxWuuH8jSmU1YBjn5GN0a2lPIdiPh5ADjd9/3RRqOhu01XSn0KAL501ItDXKW13tZP8wtw9DO63WVbSql7iEgg4nt5ShQ4RkZGXjY8PPw8APwBAPa3idthjPlkv00vwNHvCMfIV0r9BwBeEQUOKeV6IcQHtdbjc2FmAY65iHqoUyn1NwBY3A0cExMTJc/zphDxhSAI7iKiJzzPe26Q5hbgGGS0O3TFgcO27UuEEJ0F5xZE3KC13jEIs2PBoZSyAWAVIr4BALhq5gJomzHGG4RxSTqq1epy3/c3+L5/W6PR+FfSfABA27YnLMs6g4hGAGCH7/u/iCoGU8ib1ZQ4cCilXoeIFxHRSQBwLgA4bcpOMcZwHdLX0RUcnNJc170GEW/tph0R79Raf4Rrqb5aFyF8xYoVI0NDQ9cS0cd5ChEp13XdOFuWLVv2mnK5/BifDgBgDwD8DABW854PAJOWZa2u1WpcAwxsxIGj3Yhwi7kSAG5nexHxKa31aex6p7HhXAMAr4xx5AZjzDeSHO0KDqXURgD4aNxiRPzBokWL1m3fvv1wkpK8nkspj0fEawDg2naZSeBwHIcDtZmIVgLAo7Ztr5mcnJweGxsr79+//zFEfCsAbCmXyxdG8Q0tfaOjoyt831+W1idENMYYri2OGmnB0VoopZxAxF/yb9/3T2o0Gs9G2cGZBwD+2BGnmxHxXmPMVBr7jwKHUuotAPAEH58Q8cNCiG2WZZUPHjy4UghxexjgpmxEPF9r/fM0ivKYI6X8HiI+AwB/AoAHWjKTwKGU4ixxfjhftm+LlUrFsSyrHmag+13XfV+crVLKzyLiTWn9IaL3u657Tx7gYBlKqR8CwNo0sXcc5xkiGgt92+y67tvS2t18v52TlVI/BoBTh4aGTt25c+c/2p8zW4eIvweA14YKb3Zdl0magQ+lFNtxcmhH5LailOI5PJfH3caYqzqNlVLejYgf4L9blrWiVqvtjvkiT24FPKXTW6O2vKyZIwQHZ82vIOI5WutfR9lQrVaHfd//b9vzdcaY+1La3Jx2BDhC0uXFIAje5XnewxFof0/bV8vF6aosCvOaq5T6FQCckwIctwFAizC6whjznS7guBIRvx3KutF1XWYu+z56AYeU8kZE/FwQBCOe5/01BsStHaA5ZXp6etmuXbv+ksWpI8Bh2/aJQoivGmO4UOtabHbsZVuNMWdmUZjX3DTgCIuzvWHRCUKIE+r1eq3TBsdxTiCineHf9xhjluRlZ5ycJJ5jcnKS38FM0Tk+Pj60d+/epwHgOWPMmgTZDPDPNDMA4rNaaz71ZBqZeQ4ppeQiK9RynzFmXSaNOU1OAw7HcSpENHPsNsaIbhU+x08pFbRM833/1SmPxj17Y9u2EkI0+ymd9QOfxkql0p8BYB8RXe267r0TExOW67obEfFiy7LOjNv6WKbjONtb9SER9bT9ZwaHUopTOad0durd/e4MxqTNxG1FSnkGIm4NZewzxhwbI69JZfNzIcQb6/U6f6F9GUopbqRd2sZdcI3zCCJ+Wmv9b97eFyxYsK2ttuGs9ipEfOjw4cNfSNoewlPdzJZDROe6rjuZ1ZnM4HAc5xYiup65AsuyKrVa7WBWpXnMT5M5pJSrEfGRUJ82xozGgINPLE2iiYgudF33p3nYOQsZolqtnjg9PX2cZVn/LJVKXtIxu6XLcZzLiOj+1m8iOsZ13fbiNJVZmcCxfPnyY4aGhphsWswEkjGGTzZzMlKCYz0ifjM0MLZ4bk/DAHC5Mea7c+JYDkq56wsAV4SifpRUn0SpzASOVqUMAEykMGOXaXC6A4CrEfG4IAjumE0jKQ04lFKXA0DzdBKyipHdzQ5OIJKbyOTw3EzmKwHcSmhukUS0wXXdO3sxJTU42viCLUR0Xi9pynGc7xMR77U8dhpjmMXraaQBR3ihhilzHqm3lSAILvI8r7WuJ/vmapFt20xWbm/pjzqhpbEvFThs214qhPgtXzixLOvsWq329zTCO+copZi2bRJoXLPM5siYBhwdgUpdkAZBMO553lO9+DjXa6SU17X1xGI/iCRbE8ExNjb28gMHDmwGAAbIm+v1+q4koVHPlVIzBBoRfcJ13a/NQlbiaSUE9QzxY4yxAGDmyNqmWyilZnidXgijXv3Ie51SinsvE6HcjcaYj/WqIxYcIV3OReebEHFca809jVmNSqWyiHs1Uc2otMLTZA6W1V5oRjWrQvKv1cSa1XaX1v5+zOMGIxG90JKNiO/UWj8apytsSj4phLigkzuJBAezi41G4wGuL5imNsa0+hNH6JJSXkpEU57n/a4fDsdkocTMwWuVUs1eRChnvTHmrk6ZfB2vdapBxBu01rcM0pe8dCmlLgaAmRNkuVw+Nun4K6X8MiLy6azSSRBGgYPT7Lf4OCSEOKterz/ZzQEpJWeU31iWVa3Vas3O5qCGUoqbTmexvriu7OjoaDUIgmbG42sGWuvLOm1sdTr570EQOJ7ntRjgQbmTix6l1NcBgO/Z8EjsezmOcx4RPQ4A3DK5rtOIbuBgKpnvc7CSPczKdS7im9PcuQ0vzjxujHl7Lt5lEKKUmiGtAOD1cXcUHMe5lYiazgdBsLI9yzmOc1p4w40fbzLGxN5jyWDioKfyEZbrK+agIj8EfhbWkcyDbOLfQoiz6/X6lkRwhNRuljb8WmPMgwOMhCWlvIpvo7Xp/KJt2zfxBZ4IOyzHcR4kokv4nkoQBGs4O/BdjlKp9BOmqRHx4UqlsjZGxgBdzKyKP2i+BMUd6JmBiEyG7QiCYL8QQhDRQkR0iIjvrDR5EO7fGGMWdWu0HpE5HMc5nYj4yJp2cGNocS+cR1oF7fMSLtrwf4zxratTuslesmTJwoULF24iohZ5x02vJl3OQTx06NCHdu/efaAXu+ZyTXjPly8ct152VnMis2XiUTarppf6/LDjyRemma19fnp6+umkRtZL3ad+2fd/B45+BXI+yi3AMR/fak4+FeDIKZDzUUwBjvn4VnPyqQBHToGcj2IKcMzHt5qTTwU4cgrkfBTzP3ebgGXXfVslAAAAAElFTkSuQmCC" width="67.5" height="20" /></span><span>. If a molecular species is present at a concentration of 1 nM, what is the number of molecules within a single E.coli cell? </span></div><div  class = 'S1'><span>As a hint, you will need Avogadro's number in this calculation. Try to do the computation in the toolbox; you can check your result in the solutions.</span></div>
<br>
<!-- 
##### SOURCE BEGIN #####
%% Tutorial: Working with units
% The Computational Physiology Toolbox has a system for unit-based computations. 
% Briefly, it supports mathematical operations on variables with associated units 
% rather than just their numerical values, and ensures that units are used consistently 
% within modelling projects.
% Defining variables with units
% To create a variable with an associated unit, you have two options. First, 
% you can prepend "|u.|" to a unit, such as |u.m| for one meter. 
% 
% For example, if you are modelling a 400 gram rat, you might want to store 
% its body weight in a variable 

BW = 400*u.g
%% 
% Second, you can create variables using function |str2u()|

str2u('400 g')
%% 
% Here, prepending "|u.|"  is not required. 
% 
% To see the complete list of supported units, type "|u|" at the console and 
% hit "Enter". I won't do it here because this list is quite long.
% Custom display of variables with units
% Now let's turn to what you can do with these variables. First, you can change 
% the units in which a variable is displayed using function |scd()|, short for 
% "setcustomdisplay". 
% 
% For example, you might want to convert the previously defined rat body weight 
% to kilograms:

scd(BW,'kg')
%% 
% Converting to incompatible units results in an error, e.g., |scd(BW,'L')|.

scd(BW,'L')
%% 
% Display units can also be set globally, for example, to display all time variables 
% in minutes rather than the default seconds. Tutorial "Global options" contains 
% instructions for how to do so. However, if defined, a custom display on a per-variable 
% base always takes precedence over a global custom display.
% Calculations using variables with units
% As an example, consider a two-compartment model with volumes |V1| = 10 L and 
% |V2| = 20 L,

V1 = 10*u.L
V2 = 20*u.L
%% 
% You can obtain the total volume of distribution as the sum of the two compartment 
% volumes:

Vss = V1 + V2
%% 
% If one of the two volumes had a unit of mL instead of L,

V2 = scd(V2,'mL')
%% 
% the unit of |Vss| will be the one of the first term in the sum.

Vss = V1 + V2
%% 
% But assume the second volume is erroneously given in kilogram rather than 
% liters. 

W2 = 20*u.kg
%% 
% Then, the operation |V1 + W2| will result in an error because these units 
% are incompatible.

V1 + W2
% Arrays of variables with units
% You can also create arrays of unit-based variables. 
% 
% For example, you can store the two volumes in a vector |V|

V = [V1 V2]
%% 
% This will automatically harmonize the units (L and mL) into L.
% 
% 
% 
% You can also store values with incompatible units, which will result in a 
% vector with heterogeneous units. Here, different compatible units will not be 
% harmonized.

[V1 V2 W2]
%% 
% Next, you can perform operations that change not only the dispay, but the 
% actual type of underlying unit, like multiplication or division. For example, 
% let's compute the body mass index of a typical adult:

BW = 70*u.kg
BH = 1.80*u.m
BMI = BW / BH^2
%% 
% If units cancel during an operation, the result will be a standard numerical 
% variable. Dosing per body weight is such an example.

400*u.mg / BW
%% 
% 
% 
% You can see the list of functions applicable to variables with units by typing 
% _(note: any variable with units will do here, I've taken a meter)_

methods(u.m)
%% 
% These functions cover most applications. 
% 
% 
% Details
% Let's get into a bit more detail on how this works. There are two types of 
% units, so-called base units and derived units. 
% 
% In total, there are nine base units; you can see their names when typing 

u.baseNames
%% 
% These are the SI units together with two additional units, bit and currency. 
% The relevant base units for us are meter, kilogram, second, and mol. The reason 
% why other base units are implemented, like Ampere or Kelvin, is because our 
% unit-computation system was adapted from contributed code on MathWorks file 
% exchange.
% 
% Derived units are defined as combinations of base units, for example, the 
% kilogram per meter squared was a derived unit. But derived units can also have 
% custom names, such as |M| for molar concentration. 

u.M
%% 
% To reveal the underlying base units, function |scd()| can again be used, but 
% without any second argument:

scd(u.M)
%% 
% You can see that the molar unit is defined through base units mol and kilogram. 
% 
% Custom unit names are cleared during most operations. For example, if an infusion 
% rate is computed from dose and duration,

dose = 1*u.mg
duration = 30*u.min
rate = dose/duration
%% 
% the result will be returned in a combination of base units. 
% 
% Custom unit names can be re-set whenever required using function |scd()|, 
% but note that this is only for display purposes and need not be done for intermediate 
% calculations.
% Exercise
% Here's a small exercise for getting started with unit-based computations. 
% The volume of a typical E.coli cell is $2\cdot {10}^{\;-15} L$. If a molecular 
% species is present at a concentration of 1 nM, what is the number of molecules 
% within a single E.coli cell? 
% 
% As a hint, you will need Avogadro's number in this calculation. Try to do 
% the computation in the toolbox; you can check your result in the solutions.
##### SOURCE END #####
-->
</div></body></html>